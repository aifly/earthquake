<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=750,user-scalable=no" />
    <title>民声建议直通你心底  这条通道@你</title>
    <style>
    </style>
    <script>
        document.getElementsByTagName('html')[0].style.fontSize = 750 / 10 + 'px';
        window.protocol = location.protocol;
        window.h5name = 'zmitivoice1';
        window.customid = '2032998998';//两会号外

        window.baseUrl = window.protocol+'//api.zmiti.com/v2';
        window.wxappid = 'wxfacf4a639d9e3bcc';
        window.wxappsecret='149cdef95c99ff7cab523d8beca86080';

        window.server = 'api';
        //xinhuanet
        if(window.customid === '2032998998'){
            window.baseUrl = window.protocol+'//h5.zhongguowangshi.com/'+h5name;
            window.wxappid = 'wx5ec3d35069383211';
            window.wxappsecret='d94ea41d9cd2ba03c7cab5fc0e212cec';
        }
        window.desc = '邀请你来听';
        document.addEventListener('touchmove',function(e){e.preventDefault()},{passive:false});

    </script>
    <style>
        *{margin: 0;padding: 0}
    </style>
</head>
<body>
    
    
    <script src="https://threejs.org/build/three.js"></script>
    
    <script>



            var SCREEN_WIDTH = window.innerWidth;
            var SCREEN_HEIGHT = window.innerHeight;
            var container,stats;
            var camera, scene1, scene2, renderer,group;
            var mouseX = 0, mouseY = 0;
            var windowHalfX = window.innerWidth / 2;
            var windowHalfY = window.innerHeight / 2;
            init();
            animate();
            function init() {
                container = document.createElement( 'div' );
                document.body.appendChild( container );
                renderer = new THREE.WebGLRenderer( { antialias: true } );
                //
                camera = new THREE.PerspectiveCamera( 35, SCREEN_WIDTH / SCREEN_HEIGHT, 1, 10000 );
                camera.position.z = 1200;
                camera.position.y = -460;
                camera.position.x = 460;
                scene1 = new THREE.Scene();
                scene1.background = new THREE.Color( 0xf2f7ff );
                scene1.fog = new THREE.Fog( 0xf2f7ff, 1, 25000 );
                scene1.add( new THREE.AmbientLight( 0xf2f7ff ) );
            
                var textureLoader = new THREE.TextureLoader();
                var maxAnisotropy = renderer.capabilities.getMaxAnisotropy();
                var texture1 = textureLoader.load( "./assets/images/grass2.jpg" );
                var material1 = new THREE.MeshPhongMaterial( { color: 0xcccccc, map: texture1 } );
                
                texture1.anisotropy = maxAnisotropy;
                texture1.wrapS = texture1.wrapT = THREE.RepeatWrapping;
                texture1.repeat.set( 512, 512 );

                var texture2 = textureLoader.load( "./assets/images/grass2.jpg" );
                var material2 = new THREE.MeshPhongMaterial( { color: 0xcccccc, map: texture2 } );
                texture2.anisotropy = 1;
                texture2.wrapS = texture2.wrapT = THREE.RepeatWrapping;
                texture2.repeat.set( 512, 512 );
                
                var geometry = new THREE.PlaneBufferGeometry( 120, 120 );
                var mesh1 = new THREE.Mesh( geometry, material1 );
                mesh1.rotation.x = - Math.PI /2;

                mesh1.scale.set( 500, 500, 500 );


                var ballGeo = new THREE.SphereGeometry(40,100,100);
                var ballMaterial = new THREE.MeshPhongMaterial({color:'red'});

                var mesh2 = new THREE.Mesh(ballGeo,ballMaterial);
                mesh2.position.y = 40;
                mesh2.position.x = 120;
                scene1.add(mesh2)

                
                scene1.add( mesh1 );
            
                renderer.setPixelRatio( window.devicePixelRatio );
                renderer.setSize( SCREEN_WIDTH, SCREEN_HEIGHT );
                renderer.autoClear = false;
                renderer.domElement.style.position = "relative";
                container.appendChild( renderer.domElement );
                // STATS1
                
                document.addEventListener( 'touchmove', onDocumentMouseMove, false );
            }
            function onDocumentMouseMove(event) {
               /* var event = event.changedTouches[0] || event;
                mouseX = -( event.clientX - windowHalfX );
                mouseY = ( event.clientY - windowHalfY );*/
            }
            function animate() {
                requestAnimationFrame( animate );
                render();
            }
            camera.position.y = 50
            function render() {


                camera.position.x += ( mouseX - camera.position.x ) * .05;
                camera.position.y = 50
                //camera.position.z -=3;
                var pos =  scene1.position;
                pos.z +=1;
                //camera.lookAt(pos);
                //renderer.clear();

                scene1.position.x = Math.random()*1;
                scene1.position.y = Math.random()*1;
                renderer.render( scene1, camera );
            }


        function loadScript(src){
            var script = document.createElement('script');
            script.src =src+"?t="+new Date().getTime();
            document.body.appendChild(script)
        }
        (function(){
           var script = document.createElement('script');
           script.src = window.protocol + '//res.wx.qq.com/open/js/jweixin-1.2.0.js';
           document.body.appendChild(script);
        })()


        //
        /*

        loadScript('./assets/js/base.js');
        loadScript('./assets/js/index.js');
        */
    </script>
<!-- 
    <script src='./assets/js/base.js'></script>
    <script src='http://localhost:4025/index.js' onerror="loadScript('./assets/js/index.js')"></script> 
-->
</body>
</html>